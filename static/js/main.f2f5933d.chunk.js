(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{80:function(e,t,a){e.exports=a(94)},85:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=(a(85),a(148)),i=a(150),s=a(136),u=Object(s.a)((function(e){return{root:{textAlign:"left",backgroundColor:"white"},appBarSpacer:e.mixins.toolbar}})),m=a(33),p=a(13),g=a(10),f=a(140),d=a(96),h=a(151),E=a(138),v=a(51),b=a.n(v),j=a(63);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=r.a.useState(null),c=Object(g.a)(n,2),l=c[0],o=c[1],i=r.a.useState(null),s=Object(g.a)(i,2),u=s[0],m=s[1],p=r.a.useState(!0),f=Object(g.a)(p,2),d=f[0],h=f[1];return r.a.useEffect((function(){(function(){var n=Object(j.a)(b.a.mark((function n(){var r,c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e,t);case 3:if(r=n.sent,c=null,!a){n.next=11;break}return n.next=8,r.json();case 8:c=n.sent,n.next=14;break;case 11:return n.next=13,r.text();case 13:c=n.sent;case 14:o(c),h(!1),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),m(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(){return n.apply(this,arguments)}})()()}),[e,t,a]),[l,u,d]}var O=Object(s.a)((function(e){return{ruleBar:{borderBottom:"1px solid lightgrey"},ruleid:{textAlign:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3)},title:{textAlign:"justify",marginTop:e.spacing(4),marginBottom:e.spacing(4)},coverage:{marginBottom:e.spacing(3)},description:{textAlign:"justify"},tabRoot:{justifyContent:"center"},tabScroller:{flexGrow:"0"}}}));function y(e){var t=e.match.params.ruleid,a=e.match.params.language,n=Object(p.f)();var c,l=O(),o="/rspec/rules/"+t+"/"+a+"-metadata.json",s="https://github.com/SonarSource/rspec/tree/master/rules/"+t+"/"+a,u=S("/rspec/rules/"+t+"/"+a+"-description.html",null,!1),m=Object(g.a)(u,3),v=m[0],b=m[1],j=m[2],y=S(o,null,!0),x=Object(g.a)(y,3),B=x[0],L=x[1],R=x[2],C=function(){var e=S("".concat("/rspec","/covered_rules.json")),t=Object(g.a)(e,3),a=t[0],n=t[1],r=t[2],c={abap:["ABAP"],apex:["APEX"],cfamily:["CPP","C","OBJC"],cobol:["COBOL"],csharp:["CSH"],vbnet:["VBNET"],css:["CSS"],flex:["FLEX"],kotlin:["KOTLIN"],scala:["SCALA"],ruby:["RUBY"],go:["GO"],java:["JAVA"],javascript:["JAVASCRIPT","JS","TYPESCRIPT"],php:["PHP"],pli:["PLI"],plsql:["PLSQL"],python:["PY"],rpg:["RPG"],swift:["SWIFT"],tsql:["TSQL"],vb6:["VB"],WEB:["WEB"],xml:["XML"]};return function(e,t,l){if(n)return"Failed Loading";if(r)return"Loading";var o=[];return c[e].forEach((function(e){t.forEach((function(t){t in a[e]&&o.push(l(e,a[e][t]))}))})),o.length>0?o:"Not Covered"}}(),P="Loading...",w="Loading...",A=null;R||L||(w=B.title,B.all_languages.sort(),A=B.all_languages.map((function(e){return r.a.createElement(E.a,{label:e,value:e})})),c=JSON.stringify(B,null,2),P=C(a,B.allKeys,(function(e,t){return r.a.createElement("li",null,e,": ",t)})));var N=r.a.createElement("div",null,"Loading...");return j||b||(N=r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:v}}),r.a.createElement("hr",null),r.a.createElement("a",{href:s},"Edit on Github"),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("pre",null,c))),r.a.createElement("div",null,r.a.createElement("div",{className:l.ruleBar},r.a.createElement(f.a,null,r.a.createElement(d.a,{variant:"h2",classes:{root:l.ruleid}},t),r.a.createElement(h.a,{value:a,onChange:function(e,a){n.push("/".concat(t,"/").concat(a))},indicatorColor:"primary",textColor:"primary",centered:!0,variant:"scrollable",scrollButtons:"auto",classes:{root:l.tabRoot,scroller:l.tabScroller}},A))),r.a.createElement(f.a,{maxWidth:"md"},r.a.createElement(d.a,{variant:"h3",classes:{root:l.title}},w),r.a.createElement(i.a,{classes:{root:l.coverage}},r.a.createElement(d.a,{variant:"h4"},"Covered Since"),r.a.createElement("ul",null,P)),r.a.createElement(i.a,{classes:{root:l.description}},r.a.createElement(d.a,{variant:"h4"},"Description"),r.a.createElement(d.a,{className:l.description},N))))}var x=a(149),B=a(154),L=a(144),R=a(152),C=Object(s.a)((function(e){return{root:{},searchHitBox:{marginBottom:e.spacing(1)},searchBar:{borderBottom:"1px solid lightgrey",paddingBottom:e.spacing(2)},searchResults:{marginTop:e.spacing(3)},resultsCount:{marginBottom:e.spacing(2)}}})),P=a(30);function w(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e||t},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e?e.toString():t},l=Object(n.useState)(t),o=Object(g.a)(l,2),i=o[0],s=o[1],u=Object(p.g)(),m=Object(p.f)();function f(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.push,r=void 0===n||n,c=(a.skipURI,new URLSearchParams(u.search));c.set(e,t),s(t),r?m.push("".concat(u.pathname,"?").concat(c.toString())):m.replace("".concat(u.pathname,"?").concat(c.toString()))}return r.a.useEffect((function(){var n=new URLSearchParams(u.search);n.has(e)&&n.get(e)!==c(i)?s(a(n.get(e))):n.has(e)||c(i)===c(t)||s(t)}),[e,t,a,c,i,u,m]),[i,f]}var A=a(142),N=a(143),T=a(153),k=a(141),I=Object(s.a)((function(e){return{searchHit:{},ruleid:{},language:{marginRight:e.spacing(1),marginTop:e.spacing(2)}}}));function U(e){var t=I(),a=e.data.languages.map((function(e){return r.a.createElement(T.a,{classes:{root:t.language},label:e,color:"primary"})})),n=e.data.titles.split("\n").map((function(e){return r.a.createElement(d.a,{className:{root:t.title},variant:"body1",component:"p",gutterBottom:!0},e)}));return r.a.createElement(k.a,{component:m.b,to:"/S".concat(e.data.id,"/").concat(e.data.languages[0])},r.a.createElement(A.a,{variant:"outlined",classes:{root:t.searchHit}},r.a.createElement(N.a,null,r.a.createElement(d.a,{classes:{root:t.ruleid},variant:"h5",component:"h5",gutterBottom:!0},"Rule ",e.data.id),n,r.a.createElement(d.a,{variant:"body2",component:"p",classes:{root:t.languages}},a))))}var W=function(){var e=C(),t=w("query",""),a=Object(g.a)(t,2),c=a[0],l=a[1],o=w("types","ALL"),s=Object(g.a)(o,2),u=s[0],m=s[1],h={BUG:"Bug",CODE_SMELL:"Code Smell",SECURITY_HOTSPOT:"Security Hotspot",VULNERABILITY:"Vulnerability"},E=w("tags",[],(function(e){return e?e.split(","):[]})),v=Object(g.a)(E,2),b=v[0],j=v[1],O=w("page",1,parseInt),y=Object(g.a)(O,2),A=y[0],N=y[1],T=function(){var e=Object(p.g)(),t=Object(p.f)();return[new URLSearchParams(e.search),function(a){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new URLSearchParams(e.search),c=0,l=Object.entries(a);c<l.length;c++){var o=Object(g.a)(l[c],2),i=o[0],s=o[1];r.set(i,s)}n?t.push("".concat(e.pathname,"?").concat(r.toString())):t.replace("".concat(e.pathname,"?").concat(r.toString()))}]}(),k=Object(g.a)(T,2)[1],I=function(e,t,a,c,l){var o="".concat("/rspec","/rules/rule-index.json"),i="".concat("/rspec","/rules/rule-index-store.json"),s=S(o),u=Object(g.a)(s,3),m=u[0],p=u[1],f=u[2],d=S(i),h=Object(g.a)(d,3),E=h[0],v=h[1],b=h[2],j=Object(n.useState)(null),O=Object(g.a)(j,2),y=O[0],x=O[1],B=Object(n.useState)([]),L=Object(g.a)(B,2),R=L[0],C=L[1],w=Object(n.useState)(null),A=Object(g.a)(w,2),N=A[0],T=A[1],k=Object(n.useState)(null),I=Object(g.a)(k,2),U=I[0],W=I[1],q=Object(n.useState)(!0),H=Object(g.a)(q,2),Q=H[0],G=H[1];return r.a.useEffect((function(){console.log("trying to load index"),f||p||(console.log("Loading Index"),x(P.Index.load(m)))}),[m,p,f]),r.a.useEffect((function(){if(console.log("trying to run query"),null!=y&&!b&&!v){var n=[];W(null);try{n=y.query((function(n){t&&n.term(t.toLowerCase(),{fields:["type"],presence:P.Query.presence.REQUIRED,usePipeline:!1}),a.forEach((function(e){n.term(e,{fields:["tags"],presence:P.Query.presence.REQUIRED,usePipeline:!1})})),P.tokenizer(e).forEach((function(e){n.term(e,{fields:["titles","descriptions"],presence:P.Query.presence.REQUIRED})}))}))}catch(o){if(!(o instanceof P.QueryParseError))throw o;W(o.message)}T(n.length);var r=n.slice(c*(l-1),c*l);C(r.map((function(e){var t=e.ref;return E[t]}))),G(!1)}}),[e,t,a,c,l,E,b,v,y]),[R,N,U,Q]}(c,"ALL"===u?null:u,b,20,A),W=Object(g.a)(I,4),q=W[0],H=W[1],Q=W[2],G=W[3],J=Math.ceil(H/20),V="No rule found...";G?V="Searching":q.length>0&&(V=q.map((function(t){return r.a.createElement(i.a,{className:e.searchHitBox},r.a.createElement(U,{key:t.id,data:t}))})));var _={types:m,tags:j,query:l};function D(e){return function(t){if(A>1){var a={query:c,types:u,tags:b,page:1};a[e]=t.target.value,k(a)}else _[e](t.target.value,{push:!1})}}return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.searchBar},r.a.createElement(f.a,{maxWidth:"md"},r.a.createElement(L.a,{container:!0,spacing:3},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"h4"},"Search Rule Specifications")),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(x.a,{id:"title-query",label:"Rule Title and Description",placeholder:"Search in rule titles and descriptions",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",value:c,onChange:D("query"),error:Q,helperText:Q})),r.a.createElement(L.a,{item:!0,xs:3},r.a.createElement(x.a,{select:!0,fullWidth:!0,margin:"normal",variant:"outlined",label:"Rule types",value:u,onChange:D("types")},r.a.createElement(B.a,{key:"All",value:"ALL"},"All"),Object.keys(h).map((function(e){return r.a.createElement(B.a,{key:e,value:e},h[e])})))),r.a.createElement(L.a,{item:!0,xs:9},r.a.createElement(x.a,{select:!0,fullWidth:!0,SelectProps:{multiple:!0},margin:"normal",variant:"outlined",label:"Rule Tags",value:b,onChange:D("tags"),renderValue:function(e){return e.join(", ")}},["confusing","pitfall","clumsy","junit","tests"].map((function(e){return r.a.createElement(B.a,{key:e,value:e},e)}))))))),r.a.createElement("div",{className:e.searchResults},r.a.createElement(f.a,{maxWidth:"md"},r.a.createElement(L.a,{container:!0,spacing:3},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(i.a,{className:e.resultsCount},r.a.createElement(d.a,{variant:"subtitle1"},"Number of rules found: ",H)),V,r.a.createElement(R.a,{count:J,page:A,siblingCount:2,onChange:function(e,t){return N(t)}}))))))},q=a(145),H=a(146),Q=a(147),G=a(65),J=a.n(G),V=Object(s.a)((function(e){return{root:{flexGrow:1,marginBottom:"13px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function _(){var e=V();return r.a.createElement(q.a,{position:"static",className:e.root},r.a.createElement(H.a,null,r.a.createElement(Q.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(J.a,null)),r.a.createElement(d.a,{variant:"h6",className:e.title},"SonarSource Rule Specifications")))}var D=function(){var e=u();return r.a.createElement(o.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(_,null),r.a.createElement(i.a,null,r.a.createElement(m.a,{basename:"/rspec"},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/:ruleid/:language",component:y}),r.a.createElement(p.a,null,r.a.createElement(W,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.f2f5933d.chunk.js.map