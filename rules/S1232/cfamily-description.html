<p>The same form that was used to create an object should always be used to delete it. Specifically, arrays should be deleted with &lt;code&gt;delete []&lt;/code&gt; and objects should be deleted with &lt;code&gt;delete&lt;/code&gt;. To do otherwise will cause segfaults (in the case of deleting an object with &lt;code&gt;delete []&lt;/code&gt;) and memory leaks (in the case of deleting an array with &lt;code&gt;delete&lt;/code&gt;).
This is also true when memory was allocated with &lt;code&gt;malloc&lt;/code&gt;, or one of its variants, then it must be released using &lt;code&gt;free()&lt;/code&gt; not &lt;code&gt;delete&lt;/code&gt;. Similarly memory allocated by &lt;code&gt;new&lt;/code&gt; can not be released using &lt;code&gt;free&lt;/code&gt; instead of &lt;code&gt;delete&lt;/code&gt;.</p>
<h2>Noncompliant Code Example</h2>
<pre>
string* _pString1 = new string;
string* _pString2 = new string[100];
char* _pChar = (char *) malloc(100);

delete [] _pString1; // Noncompliant; an object was declared but array deletion is attempted
delete _pString2;  // Noncompliant; an array was declared but an object (the first in the array) is deleted
delete _pChar; // Noncompliant
</pre>
<h2>Compliant Solution</h2>
<pre>
string* _pString1 = new string;
string* _pString2 = new string[100];
char* _pChar = (char *) malloc(100);

delete _pString1;
delete [] _pString2;
free(_pChar);
</pre>
<h2>See</h2>
<ul>
<li><a href="https://www.securecoding.cert.org/confluence/x/dQAGCQ">CERT, MEM51-CPP.</a> - Properly deallocate dynamically allocated resources</li>
</ul>
