<p>If any of the arguments act like preprocessor directives, the behaviour when macro substitution is made can be unpredictable.</p>
<h2>Noncompliant Code Example</h2>
<pre>
#define M(A) printf ( #A )
void main ( )
{
  M(  // Could print "Message 2", could print '#ifdef SW "Message 1" #else "Message 2" #endif'
#ifdef SW  // Noncompliant
  "Message 1"
#else  // Noncompliant
  "Message 2"
#endif  // Noncompliant
  );
}
</pre>
<h2>Compliant Solution</h2>
<pre>
#define M(A) printf ( #A )
#ifdef SW
#define MSG "Message 1"
#else
#define MSG "Message 2"
#endif

void main ( )
{
  M( MSG );
}
</pre>
<h2>See</h2>
<ul>
<li>MISRA C:2004, 19.9</li>
<li>MISRA C++:2008, 16-0-5</li>
</ul>
