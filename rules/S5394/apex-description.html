<p>In order to protect shared resources, Salesforce enforces a maximum number of SOQL queries, DML queries, &lt;code&gt;@future&lt;/code&gt; method, etc…​ execution inside a single <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_transaction.htm">transaction</a>. This is part of <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_gov_limits.htm">Governor limits</a>.</p>
<p>Every test method should check how close the tested code is to reach the governor limits. This is done by calling &lt;code&gt;Test.StartTest()&lt;/code&gt; before the tested code and &lt;code&gt;Test.StopTest()&lt;/code&gt; after it.</p>
<p>This rule raises an issue when a test method, i.e. a method annotated with &lt;code&gt;@isTest&lt;/code&gt; or &lt;code&gt;testmethod&lt;/code&gt;, does not contain a call to &lt;code&gt;Test.StartTest()&lt;/code&gt; and &lt;code&gt;Test.StopTest()&lt;/code&gt;.</p>
<h2>Noncompliant Code Example</h2>
<pre>
@isTest()
public class MyTestClass {
    @isTest()
    static void myTestMethod() { // Noncompliant
        // Preparing test (creating records, etc...)
        // test code with no reference to Test.StartTest() or Test.StopTest()
    }

    static testmethod void myTestMethod2() { // Noncompliant
        // Preparing test (creating records, etc...)
        // test code with no reference to Test.StartTest() or Test.StopTest()
    }

    static void myHelper() {
        // ...
    }
}
</pre>
<h2>Compliant Solution</h2>
<pre>
@isTest()
public class MyTestClass {
    @isTest()
    static void myTestMethod() {
        // Preparing test (creating records, etc...)
        Test.StartTest();
        // test code with no reference to Test.StartTest() or Test.StopTest()
        Test.StopTest();
    }

    static testmethod void myTestMethod2() {
        // Preparing test (creating records, etc...)
        Test.StartTest();
        // test code with no reference to Test.StartTest() or Test.StopTest()
        Test.StopTest();
    }

    static void myHelper() {
        // ...
    }
}
</pre>
<h2>Exceptions</h2>
<p>No issue will be raised if the test class, i.e. the class annotated with &lt;code&gt;@isTest&lt;/code&gt;, contains helper methods, i.e. methods not annotated with &lt;code&gt;@isTest&lt;/code&gt; or &lt;code&gt;testmethod&lt;/code&gt;, which contain calls to &lt;code&gt;Test.StartTest()&lt;/code&gt; or &lt;code&gt;Test.StopTest()&lt;/code&gt;. This indicates that the test code has been factorised and the rule would raise false positives.</p>
<h2>See</h2>
<ul>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_gov_limits.htm">Execution Governors and Limits</a></li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_testing_tools_start_stop_test.htm">Using Limits, startTest, and stopTest</a></li>
</ul>
