<p>Comparisons of dissimilar types will always return false. The comparison and all its dependent code can simply be removed. This includes:</p>
<ul>
<li>comparing an object with null</li>
<li>comparing an object with an unrelated primitive (E.G. a string with an int)</li>
<li>comparing unrelated classes</li>
<li>comparing an unrelated &lt;code&gt;class&lt;/code&gt; and &lt;code&gt;interface&lt;/code&gt;</li>
<li>comparing unrelated &lt;code&gt;interface&lt;/code&gt; types</li>
<li>comparing an array to a non-array</li>
<li>comparing two arrays</li>
</ul>
<p>Specifically in the case of arrays, since arrays donâ€™t override &lt;code&gt;Object.equals()&lt;/code&gt;, calling &lt;code&gt;equals&lt;/code&gt; on two arrays is the same as comparing their addresses. This means that &lt;code&gt;array1.equals(array2)&lt;/code&gt; is equivalent to &lt;code&gt;array1==array2&lt;/code&gt;.
However, some developers might expect &lt;code&gt;Array.equals(Object obj)&lt;/code&gt; to do more than a simple memory address comparison, comparing for instance the size and content of the two arrays. Instead, the &lt;code&gt;==&lt;/code&gt; operator or &lt;code&gt;Arrays.equals(array1, array2)&lt;/code&gt; should always be used with arrays.</p>
<h2>Noncompliant Code Example</h2>
<pre>
interface KitchenTool { ... };
interface Plant {...}

public class Spatula implements KitchenTool { ... }
public class Tree implements Plant { ...}
//...

Spatula spatula = new Spatula();
KitchenTool tool = spatula;
KitchenTool [] tools = {tool};

Tree tree = new Tree();
Plant plant = tree;
Tree [] trees = {tree};


if (spatula.equals(tree)) { // Noncompliant; unrelated classes
  // ...
}
else if (spatula.equals(plant)) { // Noncompliant; unrelated class and interface
  // ...
}
else if (tool.equals(plant)) { // Noncompliant; unrelated interfaces
  // ...
}
else if (tool.equals(tools)) { // Noncompliant; array &amp; non-array
  // ...
}
else if (trees.equals(tools)) { // Noncompliant; incompatible arrays
  // ...
}
else if (tree.equals(null)) { // Noncompliant
  // ...
}
</pre>
<h2>See</h2>
<ul>
<li><a href="https://www.securecoding.cert.org/confluence/x/IQAlAg">CERT, EXP02-J.</a> - Do not use the Object.equals() method to compare two arrays</li>
</ul>
